(()=>{"use strict";let e=[],t=[],n=document.getElementById("task-form"),d=document.getElementById("edit-form-container");class c{constructor(e,t,n,d,c,i){this.title=e,this.description=t,this.dueDate=n,this.priority=c,this.projectSelection=d,this.taskComplete=i}}function i(){let t=document.getElementById("tasks");t.innerHTML="";for(let t=0;t<e.length;t++)l(e[t]);return t}function l(t){console.log("hello");let n=document.createElement("div");n.classList.add("task-container");let c=document.createElement("input");c.type="checkbox",c.addEventListener("change",(function(){this.checked?(n.classList.add("checked"),t.taskComplete=!0):(n.classList.remove("checked"),t.taskComplete=!1)})),1==t.taskComplete?n.classList.add("checked"):n.classList.remove("checked");let l=document.createElement("div");l.classList.add("task-details"),l.classList.add("expandable");let s=document.createElement("div");s.classList.add("task-title"),s.innerHTML=t.title;let o=document.createElement("div");o.classList.add("task-description"),o.innerHTML=`<b>Description:</b> ${t.description}`;let a=document.createElement("div");a.classList.add("task-due-date"),a.innerHTML=t.dueDate;let r=document.createElement("div");r.classList.add("task-project"),r.innerHTML=`<b>Project:</b> ${t.projectSelection}`;let m=document.createElement("div");m.classList.add("task-priority"),m.innerHTML=`<b>Priority:</b> ${t.priority}`;let p=document.createElement("img");p.classList.add("expand-button"),p.src="./images/expand-arrow.png",p.addEventListener("click",(e=>{l.classList.toggle("expanded")}));let u=document.createElement("img");u.classList.add("edit"),u.src="./images/edit.png",u.addEventListener("click",(e=>{d.style.display="block"}));let E=document.createElement("img");E.classList.add("delete"),E.src="./images/trash-black.png",E.addEventListener("click",(n=>{!function(t){const n=e.indexOf(t);e.splice(n,1),i()}(t)})),tasks.appendChild(n),n.appendChild(c),n.appendChild(l),l.appendChild(s),l.appendChild(a),l.appendChild(m),l.appendChild(p),l.appendChild(u),l.appendChild(E),l.appendChild(o),l.appendChild(r),l.appendChild(m)}function s(){document.getElementById("form-container").style.display="none"}let o=[],a=document.getElementById("selection-header-container");function r(){let e=document.getElementById("project-error");e&&e.remove()}function m(){let e=document.getElementById("projects");e.innerHTML="";for(let t=0;t<o.length;t++){let n=document.createElement("div");n.classList.add("project-container"),e.appendChild(n);let d=document.createElement("div");d.classList.add("project-text"),d.innerHTML=o[t],n.appendChild(d),d.addEventListener("click",(e=>{a.innerHTML="";let n=document.createElement("div");n.innerHTML=o[t],n.setAttribute("id","selection-header"),a.appendChild(n)}));let c=document.createElement("img");c.classList.add("delete"),c.src="./images/trash.png",c.addEventListener("click",(e=>{var n;n=t,o.splice(n,1),m()})),n.appendChild(c)}}let p=!1,u=document.getElementById("form-container");document.getElementById("new-project").addEventListener("click",(e=>{document.getElementById("new-project-form").style.display="block"})),document.getElementById("cancel-new-project").addEventListener("click",(e=>{document.getElementById("new-project-form").style.display="none",r()})),document.getElementById("add-new-project").addEventListener("click",(function(){let e=document.getElementById("new-project-entry").value,t=document.getElementById("new-project-entry"),n=document.getElementById("new-project-form");if(""!=e)r(),o.push(e),n.reset(),m();else{let e=document.createElement("div");e.id="project-error",e.innerHTML="This field is required*",t.parentNode.insertBefore(e,t.nextSibling)}return o})),document.getElementById("new-task-container").addEventListener("click",(e=>{u.style.display="block",function(){let e=document.getElementById("project-selection");e.innerHTML="";let t=document.createElement("option");t.innerHTML=" ",e.appendChild(t);for(let t=0;t<o.length;t++){let n=document.createElement("option");n.innerHTML=o[t],e.appendChild(n)}}()})),document.getElementById("close-button").addEventListener("click",(e=>{s()})),document.getElementById("close-edits-button").addEventListener("click",(e=>{d.style.display="none"})),document.getElementById("submit-button").addEventListener("click",(t=>{t.preventDefault(),function(){if(""==document.getElementById("title-input").value)return alert("Title is required"),!1;!function(){let t=document.getElementById("title-input").value,d=document.getElementById("description-input").value,l=document.getElementById("date-input").value,o=document.getElementById("project-selection").value,a=document.getElementById("priority-input").value,r=new c(t,d,l,o,a,!1);e.push(r),console.log(e),i(),s(),n.reset()}()}()})),document.getElementById("all-tasks").addEventListener("click",(e=>{p=!1,a.innerHTML="",i()})),document.getElementById("projects").addEventListener("click",(n=>{p=!0;let d=document.getElementById("selection-header").innerHTML;t=[],e.forEach((e=>{e.projectSelection==d&&t.push(e)})),function(){tasks.innerHTML="";for(let e=0;e<t.length;e++)l(t[e])}()}))})();